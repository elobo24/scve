<?php

Route::group(['middleware' => 'web'], function() {
  /**
  * Switch between the included languages
  */
  Route::group(['namespace' => 'Language'], function () {
    require (__DIR__ . '/Routes/Language/Language.php');
  });

  /**
  * Frontend Routes
  * Namespaces indicate folder structure
  */
  Route::group(['namespace' => 'Frontend'], function () {
    require (__DIR__ . '/Routes/Frontend/Frontend.php');
    require (__DIR__ . '/Routes/Frontend/Access.php');
  });
});

/**
* Backend Routes
* Namespaces indicate folder structure
* Admin middleware groups web, auth, and routeNeedsPermission
*/
Route::group(['namespace' => 'Backend', 'prefix' => 'scve', 'middleware' => 'admin'], function () {
  /**
  * These routes need inicio permission
  * (good if you want to allow more than one group in the backend,
  * then limit the backend features by different roles or permissions)
  *
  * Note: Administrator has all permissions so you do not have to specify the administrator role everywhere.
  */
  require (__DIR__ . '/Routes/Backend/Dashboard.php');
  require (__DIR__ . '/Routes/Backend/Access.php');
  require (__DIR__ . '/Routes/Backend/LogViewer.php');
});

Route::group(['middleware' => ['admin']], function() {
/*******************************************************************************************************
*********************************************************************************************************
                                    CONFIGURACIÓN
*********************************************************************************************************
*******************************************************************************************************/
/* ROUTE DASHBOARD */
Route::resource('dashboard', 'Backend\DashboardController');

Route::controller('dashboard', 'Backend\DashboardController', [
  'anyData'  => 'dashboard.dashboard',
  'getIndex' => 'dashboard',
]);
Route::get('foto/{id}', 'Backend\DashboardController@foto');
/* ROUTE DASHBOARD */

/* ROUTE DASHBOARD EGRESOS */
Route::resource('egresosp', 'Backend\EgresospController');

Route::controller('egresosp', 'Backend\EgresospController', [
  'anyData'  => 'egresosp.egresosp',
  'getIndex' => 'egresosp',
]);
/* ROUTE DASHBOARD EGRESOS*/

/* ROUTE PISO */
Route::resource('piso', 'Backend\Configuracion\Piso\PisoController');

Route::controller('Piso', 'Backend\Configuracion\Piso\PisoController', [
  'anyData'  => 'Piso.piso',
  'getIndex' => 'Piso',
]);
/* ROUTE PISO FIN */

/* ROUTE OFICINA */
Route::resource('oficina', 'Backend\Configuracion\Oficina\OficinaController');

Route::controller('Oficina', 'Backend\Configuracion\Oficina\OficinaController', [
  'anyData'  => 'Oficina.oficina',
  'getIndex' => 'Oficina',
]);
/* ROUTE OFICINA FIN */

/* ROUTE EMPRESA */
Route::resource('empresa', 'Backend\Configuracion\Empresa\EmpresaController');
Route::get('oficinas/{id}', 'Backend\Configuracion\Empresa\EmpresaController@getOficinas');

Route::controller('Empresa', 'Backend\Configuracion\Empresa\EmpresaController', [
  'anyData'  => 'Empresa.empresa',
  'getIndex' => 'Empresa',
]);
/* ROUTE EMPRESA FIN */

/* ROUTE CONTACTOS */
Route::resource('contactos', 'Backend\Configuracion\Contactos\ContactosController');

Route::controller('Contactos', 'Backend\Configuracion\Contactos\ContactosController', [
  'anyData'  => 'Contactos.contactos',
  'getIndex' => 'Contactos',
]);
/* ROUTE CONTACTOS FIN */

/* ROUTE BIEN */
Route::resource('equipos_bienes', 'Backend\Configuracion\Bien\BienController');

Route::controller('EquiposBienes', 'Backend\Configuracion\Bien\BienController', [
  'anyData'  => 'EquiposBienes.equipos_bienes',
  'getIndex' => 'EquiposBienes',
]);
/* ROUTE EMPRESA FIN */

/*******************************************************************************************************
*********************************************************************************************************
                                  FIN CONFIGURACIÓN
*********************************************************************************************************
*******************************************************************************************************/
/*******************************************************************************************************
*********************************************************************************************************
                                    CONTROL VISITAS
*********************************************************************************************************
*******************************************************************************************************/
/* ROUTE Ingresos PERSONAS */
Route::resource('personas_ingresos', 'Backend\ControlVisitas\Ingresos\PersonasController');
Route::get('visitantes/{cedula}', 'Backend\ControlVisitas\Ingresos\PersonasController@getVisitantes');

Route::controller('PersonasIngresos', 'Backend\ControlVisitas\Ingresos\PersonasController', [
  'anyData'  => 'PersonasIngresos.personas_ingresos',
  'getIndex' => 'PersonasIngresos',
]);
Route::get('autocompleteVisitante', 'Backend\ControlVisitas\Ingresos\PersonasController@autocompleteVisitante');
/* ROUTE Ingresos PERSONAS FIN */

/* ROUTE INGRESOS EQUIPOS */
Route::resource('equipos_ingresos', 'Backend\ControlVisitas\Ingresos\EquiposController');

Route::controller('EquiposIngresos', 'Backend\ControlVisitas\Ingresos\EquiposController', [
  'anyData'  => 'EquiposIngresos.equipos_ingresos',
  'getIndex' => 'EquiposIngresos',
]);
/* ROUTE INGRESOS EQUIPOS FIN */

/* ROUTE EGRESOS PERSONAS */
Route::resource('personas_egresos', 'Backend\ControlVisitas\Egresos\PersonasController');

Route::controller('PersonasEgresos', 'Backend\ControlVisitas\Egresos\PersonasController', [
  'anyData'  => 'PersonasEgresos.personas_egresos',
  'getIndex' => 'PersonasEgresos',
]);
/* ROUTE EGRESOS PERSONAS FIN */

/* ROUTE EGRESOS EQUIPOS */
Route::resource('equipos_egresos', 'Backend\ControlVisitas\Egresos\EquiposController');

Route::controller('EquiposEgresos', 'Backend\ControlVisitas\Egresos\EquiposController', [
  'anyData'  => 'EquiposEgresos.equipos_egresos',
  'getIndex' => 'EquiposEgresos',
]);
/* ROUTE EGRESOS EQUIPOS FIN */
/*******************************************************************************************************
*********************************************************************************************************
                                  FIN CONTROL VISITAS
*********************************************************************************************************
*******************************************************************************************************/
/*******************************************************************************************************
*********************************************************************************************************
                                  REPORTES
*********************************************************************************************************
*******************************************************************************************************/
/* ROUTE REPORTES PERSONAS */
Route::resource('reportes_personas', 'Backend\Reportes\Ingresos\PersonasController');

Route::controller('ReportesPersonas', 'Backend\Reportes\Ingresos\PersonasController', [
  'anyData'  => 'ReportesPersonas.reportes_personas',
  'getIndex' => 'ReportesPersonas',
]);
/* ROUTE REPORTES PERSONAS FIN */

/* ROUTE REPORTES EQUIPOS */
Route::resource('reportes_equipos', 'Backend\Reportes\Ingresos\EquiposController');

Route::controller('ReportesEquipos', 'Backend\Reportes\Ingresos\EquiposController', [
  'anyData'  => 'ReportesEquipos.reportes_equipos',
  'getIndex' => 'ReportesEquipos',
]);
/* ROUTE REPORTES EQUIPOS FIN */

/* ROUTE REPORTES PISOS */
Route::resource('reportes_empresas', 'Backend\Reportes\EmpresasController');

Route::controller('ReportesEmpresas', 'Backend\Reportes\EmpresasController', [
  'anyData'  => 'ReportesEmpresas.reportes_empresas',
  'getIndex' => 'ReportesEmpresas',
]);
/* ROUTE REPORTES PISOS FIN */

/* ROUTE REPORTES PISOS */
Route::resource('reportes_pisos', 'Backend\Reportes\PisosController');

Route::controller('ReportesPisos', 'Backend\Reportes\PisosController', [
  'anyData'  => 'ReportesPisos.reportes_pisos',
  'getIndex' => 'ReportesPisos',
]);
/* ROUTE REPORTES PISOS FIN */

/* ROUTE REPORTES GNERAL PERSONAS */
Route::resource('reportes_gral_personas', 'Backend\Reportes\General\PersonasController');

Route::controller('ReportesGralPersonas', 'Backend\Reportes\General\PersonasController', [
  'anyData'  => 'ReportesGralPersonas.reportes_gral_personas',
  'getIndex' => 'ReportesGralPersonas',
]);
/* ROUTE REPORTES GNERAL PERSONAS FIN */

/* ROUTE REPORTES GNERAL EQUIPOS */
Route::resource('reportes_gral_equipos', 'Backend\Reportes\General\EquiposController');

Route::controller('ReportesGralEquipos', 'Backend\Reportes\General\EquiposController', [
  'anyData'  => 'ReportesGralEquipos.reportes_gral_equipos',
  'getIndex' => 'ReportesGralEquipos',
]);
/* ROUTE REPORTES GNERAL EQUIPOS FIN */
/*******************************************************************************************************
*********************************************************************************************************
                                  FIN REPORTES
*********************************************************************************************************
*******************************************************************************************************/
  /* ROUTE ERROR */
  Route::get('500', function(){
    abort(500);
  });
  /* ROUTE ERROR */
});
