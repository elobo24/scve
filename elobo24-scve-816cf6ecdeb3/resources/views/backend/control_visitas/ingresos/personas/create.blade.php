@extends ('backend.layouts.master')

@section('page-header')
<h1><i class="fa fa-building-o"></i> Personas</h1>
<ol class="breadcrumb">
  <li><i class="fa fa-building-o"></i> Control de Visitas</li>
  <li> Ingresos</li>
  <li>Personas</li>
</ol>
@stop

@section('content')
{{ Form::open(['route' => 'personas_ingresos.store', 'class' => 'form-horizontal', 'role' => 'form', 'method' => 'post', 'id'=>'form-create', 'enctype' => 'multipart/form-data']) }}
<div class="box box-warning">
  <div class="box-header with-border">
    <h3 class="box-title">Ingresos de Visitantes</h3>
  </div><!-- /.box-header -->
  <div class="box-body">
    <div class="col-sm-6 col-sm-offset-2">
      @include('includes.partials.messages')
    </div>
    <div class="col-sm-10 col-sm-offset-2">
      <h4>Datos Generales</h4>
      <span id="helpBlock" class="help-block">Los campos marcados con un asterisco (*) son obligatorios.</span>
    </div>
    <div class="col-sm-8">
      <div class="form-group">
          {!!Form::label('Cedula(*)', null, array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::text('cedula',null,['id'=>'cedula','class'=>'form-control mayusculas','placeholder'=>'Ingrese CÃ©dula','maxlength'=>9, 'onkeypress'=>'return justNumbers(event);'])!!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Nombre(*)', null, array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::text('nombre','',['id'=>'nombre','class'=>'form-control mayusculas','placeholder'=>'Ingrese Nombre del Visitante','maxlength'=>'100','onKeyUp'=>'this.value=this.value.toUpperCase();'])!!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Apellido(*)', null, array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::text('apellido',null,['id'=>'apellido','class'=>'form-control mayusculas','placeholder'=>'Ingrese Apellido del Visitante','maxlength'=>'100','onKeyUp'=>'this.value=this.value.toUpperCase();'])!!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Sexo(*)', null, array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::select('sexo',$sexo,null,['id'=>'sexo','class' => 'form-control', 'onKeyUp'=>'this.value=this.value.toUpperCase();']) !!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Empresa Origen', 'Empresa Origen', array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::text('empresa_origen',null,['id'=>'empresa_origen','class'=>'form-control mayusculas','placeholder'=>'Ingrese Nombre de la empresa origen','maxlength'=>'100','onKeyUp'=>'this.value=this.value.toUpperCase();'])!!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Empresa Destino(*)', 'Empresa Destino(*)', array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::select('empresas',$empresas,null,['id'=>'empresas','class' => 'form-control']) !!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Persona Contacto(*)', 'Persona Contacto(*)', array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          {!!Form::text('persona_contacto',null,['id'=>'persona_contacto','class' => 'form-control mayusculas','placeholder'=>'Ingrese Nombre de la persona contacto','maxlength'=>'100','onKeyUp'=>'this.value=this.value.toUpperCase();']) !!}
        </div>
      </div>
      <div class="form-group">
        {!!Form::label('Foto(*)', 'Foto(*)', array('class' => 'col-sm-3 control-label'))!!}
        <div class="col-sm-9">
          <canvas id="canvas" name="canvas" width="300" height="200"></canvas>
          <div class="pull-right">
            {{ Form::submit('Guardar', ['class' => 'btn btn-success btn-sm','title' => 'Guardar']) }}
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-9 col-sm-offset-3">

        </div>
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="col-sm-4">
      <div class="col-sm-12">
          <video id="video" class="img-fluid"></video>
      </div>
      <div class="col-sm-12">
        <div class="pull-right">
          <button id="capture" type="button" class="btn btn-default btn-sm margin">Capturar foto</button>
        </div>
      </div>
      <div class="col-sm-12">

          <input type='hidden' name="foto" id="foto" />
      </div>
      <script src="js/photo.js"></script>
    </div><!-- /.box-body -->
  </div><!--box-->
  {{ Form::close() }}
  @stop
  @section('after-scripts-end')
    @include('backend.includes.partials.control_visitas.personas.scripts_personas')
  @stop
